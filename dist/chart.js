/*! version: 0.0.1 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("chart",[],e):"object"==typeof exports?exports.chart=e():t.chart=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Line=e.Pie=void 0,n(2);var o=n(3),r=i(o),s=n(5),u=i(s);e.Pie=r["default"],e.Line=u["default"]},function(t,e){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=i(o),s={renderDate:[],radius:100,textRadius:60,outRadius:0,pos:[0,0]};e["default"]={render:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=Object.assign({},s,e),i=n.renderDate,o=n.radius,u=n.textRadius,a=n.outRadius,c=n.pos,l=i.reduce(function(t,e){return t.count+e.count}),f=0-Math.PI/2;i.map(function(t){return r["default"].assignWith(t,{radius:o,textRadius:u,outRadius:a})}),i.map(function(e,n){var i=e.count,r=e.outRadius,s=e.texture,a=f,h=i/l*Math.PI*2+a,p=(h-a+Math.PI)/2+f,d=void 0,v=void 0;t.save(),t.fillStyle=s,t.strokeStyle=s,t.beginPath(),d=c[0]+o/2+(r?Math.sin(p)*r:0),v=c[1]+o/2-(r?Math.cos(p)*r:0),t.moveTo(d,v),t.arc(d,v,o,a,h,!1),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save();var y=i;d=c[0]+o/2+Math.sin(p)*u,v=c[1]+o/2-Math.cos(p)*u,t.font="14px Arial",t.fillStyle="#fff",t.fillText(y,d,v),t.restore(),f=h})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={assignWith:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&!t[i]&&(t[i]=n[i])}return t},max:Math.max,min:Math.min}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(4),a=i(u),c=n(6),l=i(c),f=n(7),h=i(f),p={renderData:[{count:1,name:1},{count:2,name:2},{count:3,name:3},{count:4,name:4},{count:5,name:5},{count:6,name:6},{count:7,name:7},{count:8,name:8},{count:9,name:9},{count:10,name:10}],width:300,height:250,position:[0,50],padding:40,minUnitWidth:40},d=function(){function t(e,n){r(this,t);var i=Object.assign({},p,n),s=i.renderData,u=i.position,c=i.width,f=i.height,h=i.padding,d=i.minUnitWidth,v=[u[0]+h,u[1]+f-h];this.ctx=e,this.options=i,this.position=u,this.graph={origin:v,width:c-h,height:f-h},this.ctl={offsetX:0,offsetLeft:0,limitPos:[],limitIndex:[1,6],sum:s.reduce(function(t,e){return(t.count?t.count:t)+e.count}),maxUnitCount:{x:a["default"].min(Math.ceil((c-h)/d),s.length),y:a["default"].max.apply(a["default"],o(s.map(function(t){return t.count})))+1}};var y=this.getUnitX(),g=this.getUnitY();this.coor=new l["default"]({origin:v,unitX:y,unitY:g})}return s(t,[{key:"initialData",value:function(){var t=this,e=this.options.renderData,n=this.ctl,i=n.limitIndex,o=n.offsetLeft,r=this.getUnitX(),s=e.map(function(t){return Object.assign({},t)}),u=i.map(function(e,n){return t.coor.pos(e,0)[0]+r/2*(n?1:-1)+o}),a=Math.round(this.ctl.offsetLeft/r);this.ctl.limitPos=u,this.ctl.offsetX=a,this.coor.clear(),s.map(function(e,n){var i=e.name,o=e.count,a=n+1,c=e.count,l=0,f=t.coor.add(a,c,{index:n,count:o,name:i,overflow:l,cross:null});if(f.posX<u[0]?f.attrs.overflow=-Math.ceil((u[0]-f.posX)/r):f.posX>u[1]&&(f.attrs.overflow=Math.ceil((f.posX-u[1])/r)),f.attrs.overflow===-1&&s[n+1]){var h=t.coor.point(n+2,s[n+1].count),p=u[0],d=(h.posY-f.posY)/(h.posX-f.posX),v=isFinite(d)?f.posY+d*(p-f.posX):f.posY;f.attrs.cross=t.coor.fromPos(p,v)}else if(1===f.attrs.overflow&&s[n-1]){var y=t.coor.point(n,s[n-1].count),g=u[1],m=(y.posY-f.posY)/(y.posX-f.posX),x=isFinite(m)?f.posY+m*(g-f.posX):f.posY;f.attrs.cross=t.coor.fromPos(g,x)}})}},{key:"render",value:function(){this.initialData(),this.renderAxies(),this.renderComment(),this.ctx.save(),this.ctx.translate(-this.ctl.offsetLeft,0),this.renderRegion(),this.renderPoints(),this.ctx.restore()}},{key:"renderAxies",value:function(){for(var t=this.ctl.maxUnitCount.x,e=this.ctl.maxUnitCount.y,n=t+1,i=e+1,o=this.coor;i--;){var r=o.pos(0,i),s=[this.graph.origin[0]+this.graph.width,r[1]];this.line(r,s,{color:"#999"})}for(;n--;){var u=o.pos(n,0),a=o.pos(n,0);a[1]=a[1]-5,this.line(u,a,{color:"#666"})}}},{key:"renderComment",value:function(){var t=this.options.padding,e=this.ctl,n=e.offsetX,i=e.limitIndex,o=this.ctl.maxUnitCount.y,r=this.ctl.maxUnitCount.x,s=this.coor,u=s.points,c=a["default"].min(r,i[1])-1,l=o,f=null;for(f=s.point(c+1,0).offset(0,t/4*3).pos,this.text("7月/日",f),f=s.point(0,l).offset(-t/4*3,0).pos,this.text("枚/",f);c>-1;){if(u[c+n]){var h=u[c+n].attrs;f=s.point(c+1,0).offset(0,t/3).pos,this.text(h.name,f)}c--}for(;l>-1;)f=s.point(0,l).offset(-t/3,0).pos,this.text(l,f),l--}},{key:"renderRegion",value:function(){var t=this.coor,e=t.points,n=e.filter(function(t){return 0===t.attrs.overflow||t.attrs.cross}).map(function(t){return t.attrs.cross||t}),i=n[0].copy().setY(0),o=n[n.length-1].copy().setY(0);n.length>1&&(n.push(o,i),this.polygons(n.map(function(t){return t.pos}),{fillStyle:"rgba(127,170,126,.3)",strokeStyle:"rgb(127,170,126)"}))}},{key:"renderPoints",value:function(){var t=this,e=this.coor.points,n=e.length,i=this.ctx;e.map(function(r){var s=r.attrs,u=s.count,a=s.x,c=s.overflow;if(!c){var l=r.pos;i.save(),i.beginPath(),i.moveTo.apply(i,o(l)),i.arc.apply(i,o(l).concat([3,0,2*Math.PI])),i.closePath(),i.fillStyle="#6cab6b",i.fill(),i.restore();var f=-12;a>0&&a<n-1&&u<e[a-1].attrs.count&&(f=13),l=r.copy().offset(0,f).pos,t.text(u,l,{fillStyle:"#71b070"})}})}},{key:"text",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=n.fillStyle,o=void 0===i?"#999":i,r=this.ctx,s=e[0],u=e[1]+5;r.save(),r.textAlign="center",r.font="10px Arial",r.fillStyle=o,r.fillText(t,s,u),r.restore()}},{key:"line",value:function(t,e,n){var i=n.color,r=n.width,s=void 0===r?1:r,u=this.ctx;u.save(),u.beginPath(),u.moveTo.apply(u,o(t)),u.lineWidth=s,u.lineTo.apply(u,o(e)),u.strokeStyle=i,u.stroke(),u.restore()}},{key:"polygons",value:function(t,e){var n=e.fillStyle,i=e.strokeStyle,r=this.ctx;r.save(),r.beginPath();var s=t.shift();r.moveTo.apply(r,o(s));for(var u=t.length;u-- >2;)r.lineTo.apply(r,o(t.shift()));r.strokeStyle=i,r.stroke(),r.lineTo.apply(r,o(t.shift())),r.lineTo.apply(r,o(t.shift())),r.lineTo.apply(r,o(s)),r.fillStyle=n,r.fill(),r.closePath(),r.restore()}},{key:"getUnitX",value:function(){var t=a["default"].max(this.graph.width/this.ctl.maxUnitCount.x,this.options.minUnitWidth);return t}},{key:"getUnitY",value:function(){return(this.graph.height-5)/this.ctl.maxUnitCount.y}},{key:"getOffsetLeft",value:function(){return this.ctl.offsetLeft}},{key:"setOffsetLeft",value:function(t){var e=this.coor.unitX,n=this.ctl.limitIndex,i=1-e/2,o=e*(this.options.renderData.length-n[1]+n[0])-e/2-1;t=a["default"].max(i,a["default"].min(o,t)),this.ctl.offsetLeft=t}},{key:"swipeTo",value:function(t){var e=this,n=this.coor.unitX,i=n*t;(0,h["default"])(this.ctl).to({offsetLeft:i},600,"easeOutQuart").change(function(){e.clear(),e.render()}).run()}},{key:"clear",value:function(){var t,e=this.options,n=e.position,i=e.width,r=e.height,s=e.padding;(t=this.ctx).clearRect.apply(t,o(n).concat([i+s,r+s]))}}]),t}();e["default"]={init:function(t,e){return new d(t,e)},render:function(t,e){var n=new d(t,e);return n.render()}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=0,r=function(){function t(e,i){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],s=arguments[3];n(this,t),this.x=e,this.y=i,this.attrs=r,this.props=s,this.id=o++,this.pos=[],this.posX=0,this.posY=0,this.calculate()}return i(t,[{key:"calculate",value:function(){var t=this.x,e=this.y,n=this.props,i=n.origin,o=n.unitX,r=n.unitY;this.posX=i[0]+o*t,this.posY=i[1]-r*e,this.pos=[this.posX,this.posY]}},{key:"setX",value:function(t){return this.x=t,this.calculate(),this}},{key:"setY",value:function(t){return this.y=t,this.calculate(),this}},{key:"offset",value:function(t,e){var n=this.props,i=n.origin,o=n.unitX,r=n.unitY;return this.posX+=t,this.posY+=e,this.x=(this.posX-i[0])/o,this.y=(i[1]-this.posY)/r,this.pos=[this.posX,this.posY],this}},{key:"copy",value:function(){return new t(this.x,this.y,this.attrs,this.props)}}]),t}(),s=function(){function t(e){n(this,t);var i=e.origin,o=e.unitX,s=e.unitY;this.unitX=o,this.unitY=s,this._origin=i,this.points=[],this.origin=new r(0,0,{},{origin:i,unitX:o,unitY:s})}return i(t,[{key:"point",value:function(t,e,n){var i=this._origin,o=this.unitX,s=this.unitY;return new r(t,e,n,{origin:i,unitX:o,unitY:s})}},{key:"pos",value:function(t,e){return this.point(t,e).pos}},{key:"fromPos",value:function(t,e,n){var i=this._origin,o=this.unitX,r=this.unitY;return this.point((t-i[0])/o,(i[1]-e)/r,n)}},{key:"add",value:function(t,e,n){var i=this.point(t,e,n);return this.points.push(i),i}},{key:"remove",value:function(t){var e=this.points.indexOf(t);return e>-1&&(this.points.splice(e,1)&&!0)}},{key:"clear",value:function(){this.points=[]}}]),t}();e["default"]=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){f=f.filter(function(t){var e=t.shift()();return!(e&&e.done)}),l(r)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e["default"]=function(t){return new h(t)};var u=n(8),a=i(u),c=30,l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/c)}}(),f=[];r();var h=function(){function t(e){o(this,t),this.stack=[],this.callback=null,this.running=!1,this.done=!1,this.target=e,this._origin={},Object.assign(this._origin,e)}return s(t,[{key:"to",value:function(t,e){var n=this,i=arguments.length<=2||void 0===arguments[2]?a["default"].linear:arguments[2],o=void 0,r=this.stack;i.length?o=a["default"][i]||a["default"].linear:"function"==typeof i&&(o=i);for(var s=Math.ceil(e/c),u=this._origin,l=function(e){var i={};for(var a in t)if(t.hasOwnProperty(a)){var c=t[a]-u[a],l=e/s;i[a]=u[a]+c*o(l)}r.push(function(){Object.assign(n.target,i),n.callback&&n.callback(i)})},f=0;f<=s;f++)l(f);return r.push(function(){return Object.assign(n.target,t),n.callback&&n.callback(t),n.running=!1,n.done=!0,{done:!0}}),this}},{key:"run",value:function(){f.push(this.stack)}},{key:"stop",value:function(){this.stack.splice(0,this.stack.length-1)}},{key:"change",value:function(t){return"function"==typeof t&&(this.callback=t),this}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}}])});